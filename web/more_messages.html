<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>ielab slack archives</title>
    <link rel="stylesheet" href="/static/picnic.min.css">
    <link rel="stylesheet" href="/static/archiver.css">
    <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
<div style="overflow: hidden;height: 64px;"></div>
<nav>
    <a href="#" class="brand">
        <span>ieab slack archive</span>
    </a>
</nav>
<main>
    <div class="flex one">
        <article class="card" style="border: 3px solid black">
            <h2 style="font-family: monospace;margin-left: 10px">Here are {{ len .Messages }} more messages:</h2>
        <hr style="border: dashed black">
        {{ range $Message := .Messages }}
        {{ if eq .SubType "message_deleted" }}
        {{ if .PreviousMessage }}
        <header>
            <b>{{ .PreviousMessage.User }}</b>
            <small>#{{ .Channel }} {{ .EventTimestamp }}</small>
        </header>
        <footer>
            <del>{{ .PreviousMessage.Text }}</del>
        </footer>
        {{ else }}
        <header>
            <small>#{{ .Channel }} {{ .EventTimestamp }}</small>
        </header>
        <footer>[message deleted]</footer>
        {{ end }}
        {{ else if eq .SubType "message_replied" }}
        <header>
            <b>{{ .User }}</b>
            <small>#{{ .Channel }} {{ .EventTimestamp }}</small>
        </header>
        <footer>{{ .Text }}</footer>
        {{ if .SubMessage }}
        <blockquote>
            <ul>
                <li>
                    <small><b>{{ .SubMessage.User }}</b> {{ .EventTimestamp }}</small>
                </li>
                <li>
                    <small>{{ .SubType }}</small>
                </li>
            </ul>
        </blockquote>
        {{ else }}
        <div>[can't see response]</div>
        {{ end }}
        {{ else }}
        <header style="font-size: 14px">
            <b>{{ .User }}</b>
            <small>#{{ .Channel }} {{ .EventTimestamp }}</small>
        </header>
        <footer style="font-size: 14px">{{ .Text }}</footer>
        <hr>
        {{ end }}
        {{end}}
    </article>
    </div>
</main>
</body>
</html>